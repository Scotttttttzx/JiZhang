<view class="container">
  <!-- è´¦æˆ·ä¿¡æ¯å¤´ -->
  <view class="account-header" style="background-color: {{accountInfo.color}};">
    <view class="header-content">
      <view class="account-icon">
        <text>{{accountInfo.icon}}</text>
      </view>
      <text class="account-name">{{accountInfo.name}}</text>
      <view class="balance-wrapper">
        <text class="balance-label">å½“å‰ä½™é¢</text>
        <text class="balance-value">Â¥{{accountInfo.balance}}</text>
      </view>
    </view>
    <view class="header-bg"></view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="action-btn" bindtap="onAddRecord">
      <text>è®°ä¸€ç¬”</text>
    </button>
    <button class="action-btn" bindtap="onEditAccount">
      <text>ç¼–è¾‘</text>
    </button>
  </view>


  <!-- äº¤æ˜“è®°å½• -->
  <view class="records-section">
    <view class="section-header">
      <text class="section-title">äº¤æ˜“è®°å½•</text>
      <view class="filter-tabs">
        <view class="tab-item {{filterType === 'all' ? 'active' : ''}}" data-type="all" bindtap="onFilterChange">å…¨éƒ¨</view>
        <view class="tab-item {{filterType === 'expense' ? 'active' : ''}}" data-type="expense" bindtap="onFilterChange">æ”¯å‡º</view>
        <view class="tab-item {{filterType === 'income' ? 'active' : ''}}" data-type="income" bindtap="onFilterChange">æ”¶å…¥</view>
      </view>
    </view>

    <block wx:if="{{records.length > 0}}">
      <view class="record-list">
        <block wx:for="{{records}}" wx:key="id">
          <view class="record-item" wx:if="{{filterType === 'all' || item.type === filterType}}">
            <view class="record-left">
              <text class="record-icon">{{item.category.icon}}</text>
              <view class="record-info">
                <text class="record-category">{{item.category.name}}</text>
                <text class="record-time">{{item.date}}</text>
              </view>
            </view>
            <view class="record-right">
              <text class="record-amount {{item.type}}">{{item.type === 'expense' ? '-' : '+'}}Â¥{{item.amount}}</text>
              <view class="delete-btn" catchtap="onDeleteRecord" data-record="{{item}}">
                <text class="delete-icon">ğŸ—‘ï¸</text>
              </view>
            </view>
          </view>
        </block>
      </view>
    </block>
    <block wx:else>
      <view class="empty-state">
        <image class="empty-icon" src="/images/statistics.png" />
        <text class="empty-text">è¯¥è´¦æˆ·æš‚æ— äº¤æ˜“è®°å½•</text>
      </view>
    </block>

  </view>
</view>
